<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>小菜的笔记</title>
    <meta name="description" content="专门收集本人的学习笔记">
    <meta name="generator" content="VitePress v1.0.0-rc.45">
    <link rel="preload stylesheet" href="/wu-docs/assets/style.TcrsZw5c.css" as="style">
    
    <script type="module" src="/wu-docs/assets/app.BWdscKyX.js"></script>
    <link rel="preload" href="/wu-docs/assets/inter-roman-latin.Bu8hRsVA.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/wu-docs/assets/chunks/framework.DLF8A2I8.js">
    <link rel="modulepreload" href="/wu-docs/assets/chunks/theme.TtMxmFgz.js">
    <link rel="modulepreload" href="/wu-docs/assets/doc_Electron_14.md.D01_CcU1.lean.js">
    <link rel="icon" href="./static/img/favicon.ico">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5d98c3a5><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0f60ec36></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0f60ec36> Skip to content </a><!--]--><!----><header class="VPNav" data-v-5d98c3a5 data-v-ae24b3ad><div class="VPNavBar has-sidebar" data-v-ae24b3ad data-v-19c990f1><div class="wrapper" data-v-19c990f1><div class="container" data-v-19c990f1><div class="title" data-v-19c990f1><div class="VPNavBarTitle has-sidebar" data-v-19c990f1 data-v-ab179fa1><a class="title" href="/wu-docs/" data-v-ab179fa1><!--[--><!--]--><!--[--><img class="VPImage logo" src="./static/img/favicon.ico" alt data-v-8426fc1a><!--]--><span data-v-ab179fa1>小菜的笔记</span><!--[--><!--]--></a></div></div><div class="content" data-v-19c990f1><div class="content-body" data-v-19c990f1><!--[--><!--]--><div class="VPNavBarSearch search" data-v-19c990f1><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索文档"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">搜索文档</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-19c990f1 data-v-7f418b0f><span id="main-nav-aria-label" class="visually-hidden" data-v-7f418b0f>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/wu-docs/" tabindex="0" data-v-7f418b0f data-v-42ef59de><!--[--><span data-v-42ef59de>首页</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/wu-docs/blog/2022-05-28.html" tabindex="0" data-v-7f418b0f data-v-42ef59de><!--[--><span data-v-42ef59de>个人博客</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-19c990f1 data-v-e6aabb21><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-e6aabb21 data-v-d1f28634 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-d1f28634></span><span class="vpi-moon moon" data-v-d1f28634></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-19c990f1 data-v-0394ad82 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/Selbstlader" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-eee4e7cb><span class="vpi-social-github" /></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-19c990f1 data-v-d0bd9dde data-v-b6c34ac9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-b6c34ac9><span class="vpi-more-horizontal icon" data-v-b6c34ac9></span></button><div class="menu" data-v-b6c34ac9><div class="VPMenu" data-v-b6c34ac9 data-v-e7ea1737><!----><!--[--><!--[--><!----><div class="group" data-v-d0bd9dde><div class="item appearance" data-v-d0bd9dde><p class="label" data-v-d0bd9dde>Appearance</p><div class="appearance-action" data-v-d0bd9dde><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-d0bd9dde data-v-d1f28634 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-d1f28634></span><span class="vpi-moon moon" data-v-d1f28634></span><!--]--></span></span></button></div></div></div><div class="group" data-v-d0bd9dde><div class="item social-links" data-v-d0bd9dde><div class="VPSocialLinks social-links-list" data-v-d0bd9dde data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/Selbstlader" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-eee4e7cb><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-19c990f1 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-19c990f1><div class="divider-line" data-v-19c990f1></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-5d98c3a5 data-v-a6f0e41e><div class="container" data-v-a6f0e41e><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-a6f0e41e><span class="vpi-align-left menu-icon" data-v-a6f0e41e></span><span class="menu-text" data-v-a6f0e41e>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a6f0e41e data-v-d2ecc192><button data-v-d2ecc192>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-5d98c3a5 data-v-575e6a36><div class="curtain" data-v-575e6a36></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-575e6a36><span class="visually-hidden" id="sidebar-aria-label" data-v-575e6a36> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-575e6a36><section class="VPSidebarItem level-0 collapsible has-active" data-v-575e6a36 data-v-93e7e794><div class="item" role="button" tabindex="0" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><h2 class="text" data-v-93e7e794>小册子</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-93e7e794><span class="vpi-chevron-right caret-icon" data-v-93e7e794></span></div></div><div class="items" data-v-93e7e794><!--[--><section class="VPSidebarItem level-1 has-active" data-v-93e7e794 data-v-93e7e794><div class="item" role="button" tabindex="0" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><h3 class="text" data-v-93e7e794>Electron + Vue 3 桌面应用开发</h3><!----></div><div class="items" data-v-93e7e794><!--[--><div class="VPSidebarItem level-2 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/wu-docs/doc/Electron/1.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>Electron 是什么？可以做什么</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/wu-docs/doc/Electron/2.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>3.如何开发 Vite 3 插件构建 Electron 开发环境？</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/wu-docs/doc/Electron/3.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>4.如何开发 Vite 3 插件打包 Electron 应用？</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/wu-docs/doc/Electron/4.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>5.如何引入 vue-router 及控制工程架构？</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/wu-docs/doc/Electron/5.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>6.如何管控应用的窗口（上）？</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/wu-docs/doc/Electron/6.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>7.如何管控应用的窗口（下）？</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/wu-docs/doc/Electron/7.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>8.如何引入 Pinia 并管控应用的数据状态？</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/wu-docs/doc/Electron/8.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>9.如何引入客户端数据库及相关工具？</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/wu-docs/doc/Electron/9.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>10.桌面应用开发需要掌握哪些数据库知识（上）？</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/wu-docs/doc/Electron/10.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>11.桌面应用开发需要掌握哪些数据库知识（下）？</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/wu-docs/doc/Electron/11.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>12.如何为 Electron 应用开发原生模块？</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/wu-docs/doc/Electron/12.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>13.如何升级 Electron 应用？</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/wu-docs/doc/Electron/13.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>14.Electron 应用具备哪些特征？</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/wu-docs/doc/Electron/14.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>15.如何调试 Electron 应用？</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/wu-docs/doc/Electron/15.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>16.Electron 疑难杂症解决方案</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1" data-v-93e7e794 data-v-93e7e794><div class="item" role="button" tabindex="0" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><h3 class="text" data-v-93e7e794>Netty 入门与实战：仿写微信 IM 即时通讯系统</h3><!----></div><div class="items" data-v-93e7e794><!--[--><div class="VPSidebarItem level-2 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/wu-docs/doc/Netty/1.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>仿微信 IM 系统简介</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/wu-docs/doc/Netty/2.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>Netty 是什么？</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/wu-docs/doc/Netty/3.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>Netty 环境配置</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/wu-docs/doc/Netty/4.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>服务端启动流程</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/wu-docs/doc/Netty/5.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>客户端启动流程</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/wu-docs/doc/Netty/6.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>实战:客户端与服务端双向通信</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/wu-docs/doc/Netty/7.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>数据传输载体 ByteBuf</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/wu-docs/doc/Netty/8.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>客户端与服务端通信协议</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/wu-docs/doc/Netty/9.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>实战:实现客户端登录</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/wu-docs/doc/Netty/10.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>实战:实现客户端与服务端收发</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/wu-docs/doc/Netty/11.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>pipeline 与 channelHandler</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/wu-docs/doc/Netty/12.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>实战:构建客户端与服务端 pipeline</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/wu-docs/doc/Netty/13.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>实战战拆包粘包理论与解决方案</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/wu-docs/doc/Netty/14.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>channelHandler 的生命周期</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/wu-docs/doc/Netty/15.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>实战:使用 channelHandler的热插拔实现客户端身份校验</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/wu-docs/doc/Netty/16.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>实战:客户端互聊原理与实现</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/wu-docs/doc/Netty/17.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>实实战:群聊的发起与通知</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/wu-docs/doc/Netty/18.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>实战:群聊的成员管理(加入与退出，获取成员列表)</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/wu-docs/doc/Netty/19.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>实战:群聊消息的收发及 Netty 性能优化</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/wu-docs/doc/Netty/20.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>心跳与空闲检测</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/wu-docs/doc/Netty/21.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>小册总结</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/wu-docs/doc/Netty/22.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>小册读者总结</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-93e7e794 data-v-93e7e794><div class="item" data-v-93e7e794><div class="indicator" data-v-93e7e794></div><a class="VPLink link link" href="/wu-docs/doc/Netty/23.html" data-v-93e7e794><!--[--><p class="text" data-v-93e7e794>扩展:进阶学习 Netty 的方向与资料</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-5d98c3a5 data-v-1428d186><div class="VPDoc has-sidebar has-aside" data-v-1428d186 data-v-39a288b8><!--[--><!--]--><div class="container" data-v-39a288b8><div class="aside" data-v-39a288b8><div class="aside-curtain" data-v-39a288b8></div><div class="aside-container" data-v-39a288b8><div class="aside-content" data-v-39a288b8><div class="VPDocAside" data-v-39a288b8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" role="navigation" data-v-3f215769 data-v-935f8a84><div class="content" data-v-935f8a84><div class="outline-marker" data-v-935f8a84></div><div class="outline-title" role="heading" aria-level="2" data-v-935f8a84>当前目录</div><nav aria-labelledby="doc-outline-aria-label" data-v-935f8a84><span class="visually-hidden" id="doc-outline-aria-label" data-v-935f8a84> Table of Contents for current page </span><ul class="VPDocOutlineItem root" data-v-935f8a84 data-v-b933a997><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-39a288b8><div class="content-container" data-v-39a288b8><!--[--><!--]--><main class="main" data-v-39a288b8><div style="position:relative;" class="vp-doc _wu-docs_doc_Electron_14" data-v-39a288b8><div><p>在上一节中我们讲解了一个线上 Electron 应用应该具备哪些特征，这一节我们着重讲解如何分析调试线上 Electron 应用。</p><ul><li>首先我们要知道一个按默认配置生成的 Electron 应用是不具备源码保护能力的，所以我们先讲解如何<code>解析</code>线上 Electron 应用的业务代码。</li><li>虽然我们可以解析出 Electron 应用的业务代码，但这些代码一般都是压缩过的，可读性比较差，所以接着我们会分析如何<code>调试</code>线上应用的业务代码。</li><li>最后我们再介绍如何分析 Electron 应用的<code>崩溃报告</code>，以应对一些难以调试的问题。</li></ul><h2 id="业务代码解析" tabindex="-1">业务代码解析 <a class="header-anchor" href="#业务代码解析" aria-label="Permalink to &quot;业务代码解析&quot;">​</a></h2><p>默认情况下，<code>electron-builder</code> 会把开发者编写的 HTML、CSS 和 JavaScript 代码以及相关的资源打包成 asar 文件嵌入到安装包中（就是安装目录下的 app.asar 文件），再分发给用户。</p><p>前面我们介绍了 asar 是一种特殊的存档格式，它可以把大批的文件以一种无损、无压缩的方式连接在一起，并提供随机访问支持。</p><p>开发者可以通过如下命令全局安装 <code>asar</code> 工具（全局安装此工具是非常有必要的，以便你能随时分析生产环境下 Electron 应用的源码）：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>&gt; npm install asar -g</span></span></code></pre></div><p>安装好 asar 工具后，打开你 Electron 应用的安装目录，在 resources 子目录下找到 app.asar 文件，通过如下命令列出该文件内部包含的文件信息：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>&gt; asar list app.asar</span></span></code></pre></div><p>如果我们想看 app.asar 包中的某个文件的内容，我们可以通过如下命令把该文件释放出来：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>&gt; asar ef app.asar entry.js</span></span></code></pre></div><p>这样 entry.js 就会出现在 app.asar 同级目录下了，如果释放文件失败，提示如下错误：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>internal/fs/utils.js:307</span></span>
<span class="line"><span>throw err;</span></span>
<span class="line"><span>Error: EPERM: operation not permitted, open &#39;entry.js&#39;</span></span>
<span class="line"><span>90m    at Object.openSync (fs.js:476:3)39m</span></span>
<span class="line"><span>90m    at Object.writeFileSync (fs.js:1467:35)39m</span></span></code></pre></div><p>这往往是<strong>因为你的应用程序正在运行，app.asar 文件被占用了导致的</strong>，退出应用程序再次尝试，如果还是无法释放目标文件，可以考虑把 app.asar 拷贝到另一个目录下再释放。</p><p>如果你希望一次性把 app.asar 内的文件全部释放出来，可以使用如下指令：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>&gt; asar e app.asar</span></span></code></pre></div><p>更多 asar 工具的指令请参阅<a href="https://github.com/electron/asar#usage" target="_blank" rel="noreferrer">该链接内容</a> 。</p><h2 id="生产环境调试" tabindex="-1">生产环境调试 <a class="header-anchor" href="#生产环境调试" aria-label="Permalink to &quot;生产环境调试&quot;">​</a></h2><p>把 asar 文件中的业务代码解析出来之后，你会发现这些业务代码都是压缩过的，可读性比较差，要想通过这些代码文件分析线上应用的业务逻辑是非常困难的，所以最好还是能想办法调试这些业务代码才行。</p><p>Node.js 6.3 以前 IDE 开发者都使用 <a href="https://github.com/node-inspector/node-inspector" target="_blank" rel="noreferrer">node-inspector</a> 作为调试 Node.js 代码的支持库，然而自 6.3 版本发布以来，Node.js 就内置了基于谷歌浏览器开发者工具的调试器，这个内置的调试器是谷歌 V8 团队开发的，提供了很多 node-inspector 难以实现的能力，比如长堆栈跟踪和异步堆栈跟踪等。</p><p>我们可以通过如下命令启动一个线上 Electron 应用：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>D:\\yourApp\\yourProductName.exe --inspect=7676 --remote-debugging-port=7878</span></span></code></pre></div><p><strong>这个命令在启动 Electron 应用程序时，为目标程序指定了两个端口号，一个是通过--inspect 指令指定的，一个是通过--remote-debugging-port 指令指定的</strong>，接下来要根据这两个端口号获取调试地址。</p><p>打开谷歌浏览器，访问如下两个地址：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>http://127.0.0.1:7676/json</span></span>
<span class="line"><span>http://127.0.0.1:7878/json</span></span></code></pre></div><p>这两个地址均会响应 JSON 字符串，这是因为在我们启动目标程序后，<strong>Electron 在后台为我们创建了对应的用于调试的 HTTP 服务</strong>，响应结果一个对应着主进程的调试信息，示例如下：</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;description&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;node.js instance&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;devtoolsFrontendUrl&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;devtools://devtools/bundled/js_app.html?experiments=true&amp;v8only=true&amp;ws=127.0.0.1:7676/85ac5529-d1a5-49b3-8655-f71c7c198b71&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;devtoolsFrontendUrlCompat&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;devtools://devtools/bundled/inspector.html?experiments=true&amp;v8only=true&amp;ws=127.0.0.1:7676/85ac5529-d1a5-49b3-8655-f71c7c198b71&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;faviconUrl&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://nodejs.org/static/images/favicons/favicon.ico&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;85ac5529-d1a5-49b3-8655-f71c7c198b71&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;title&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Node.js[25204]&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;node&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;url&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;file://&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;webSocketDebuggerUrl&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ws://127.0.0.1:7676/85ac5529-d1a5-49b3-8655-f71c7c198b71&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>另一个对应着渲染进程的调试信息，示例如下：</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;description&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;devtoolsFrontendUrl&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/devtools/inspector.html?ws=127.0.0.1:7878/devtools/page/AFCF98D56EE8462C3D8E52FA99C02F91&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;AFCF98D56EE8462C3D8E52FA99C02F91&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;title&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Vite App&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;page&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;url&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;app://./index.html&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;webSocketDebuggerUrl&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ws://127.0.0.1:7878/devtools/page/AFCF98D56EE8462C3D8E52FA99C02F91&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>这两个响应中最重要的信息就是 <code>devtoolsFrontendUrl</code>，得到此信息后，要把它们转换为如下的格式：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>devtools://devtools/bundled/js_app.html?experiments=true&amp;v8only=true&amp;ws=127.0.0.1:7676/e9c9b139-a606-4703-be3f-f4ffc496a6aa</span></span>
<span class="line"><span></span></span>
<span class="line"><span>devtools://devtools/bundled/inspector.html?ws=127.0.0.1:7878/devtools/page/33DFD3D347C1B575DC6361CC61ABAEDE</span></span></code></pre></div><p>这个转换过程就是一个简单的字符串替换，如果你嫌麻烦也可以用如下代码进行替换：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">devtoolsFrontendUrl.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">replace</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">^</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;--shiki-light-font-weight:bold;--shiki-dark-font-weight:bold;">\/</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">devtools</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;devtools://devtools/bundled&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><p>把转换后的地址放入谷歌浏览器中，将得到如下图所示结果，你可以试着在对应的源文件中下一个断点试试看。</p><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/95a5035d03a84c07a89dd537f0bb44cc~tplv-k3u1fbpfcp-watermark.image?" alt="15.1.png"></p><p>如果目标应用的源码是压缩过的，可以尝试<strong>点击调试器右下角的 {} 按钮美化代码</strong>，查看美化后的代码，这样就可以更方便地下断点调试了，如下图所示：</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/62f00e2b25aa4c93ad524f68a5522e51~tplv-k3u1fbpfcp-watermark.image?" alt="15.2.png"></p><p>通过这种方法只能调试市面上一部分基于 Electron 开发的应用，并不是所有的基于 Electron 开发的应用都能使用这种方法调试。</p><p>这并不稀奇，应用的作者有很多手段来规避自己的应用程序被调试，比如：<strong>在应用启动时先检查一下应用启动时的输入参数（可以通过 process.argv 获取），如果输入参数中包含--inspect 或--remote-debugging-port 等参数，则马上退出应用，不给恶意调试者可乘的时机</strong>； 又或者把 JavaScript 代码编译成 V8 字节码再分发给用户，这样恶意调试者即使打开了调试器，也无法调试源码；类似这些攻防手段还有很多，此处我们不再多做介绍了。</p><h2 id="分析崩溃报告" tabindex="-1">分析崩溃报告 <a class="header-anchor" href="#分析崩溃报告" aria-label="Permalink to &quot;分析崩溃报告&quot;">​</a></h2><p>分析调试业务代码主要目的还是追踪业务代码的问题，但有些问题是不会给我们追踪的机会的，比如那些偶发的、一旦出现应用程序就立即 Crash 的问题。要解决这些问题我们就要掌握分析 Electron 应用崩溃报告的知识。</p><p>如果你希望你的应用程序崩溃时，自动保存崩溃报告文件，那么你就要在你的应用程序中使用如下代码收集崩溃报告：</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { crashReporter } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;electron&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">crashReporter.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">start</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ submitURL: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, uploadToServer: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> });</span></span></code></pre></div><p><strong>有了这段代码，当应用程序崩溃时，就会产生一个.dmp 扩展名结尾的文件</strong>（存放于 <code>C:\Users\[yourOsUserName]\AppData\Roaming\[yourAppName]\Crashpad</code>），接下来我们就分析一下这个崩溃报告。</p><p>首先需要安装 WinDbg 调试工具，如果你在安装 Windows 10 SDK 时勾选了 Debugging Tools For Windows，那么 WinDbg 已经在如下目录内了，直接使用即可：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>C:\Program Files (x86)\Windows Kits\10\Debuggers\x86</span></span></code></pre></div><p>如果没有，那么你可以在如下地址下载安装：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>https://docs.microsoft.com/en-us/windows-hardware/drivers/debugger/debugger-download-tools</span></span></code></pre></div><p>安装完成后，通过菜单 File-&gt;Symbol File Path 打开符号路径设置窗口，输入如下信息：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>SRV*d:\code\symbols\*https://msdl.microsoft.com/download/symbols;SRV*d:\code\symbols\*https://symbols.electronjs.org</span></span></code></pre></div><p>这段配置中有三个关键信息，依次是符号文件的缓存路径、Windows 操作系统关键 dll 的符号服务器和 Electron 的符号服务器。</p><p>设置完符号服务器之后，通过菜单 File-&gt;Open Crash Dump 打开我们刚刚生成的崩溃报告，接着就等待 WinDbg 加载对应的符号（<strong>WinDbg 会通过 Electron 符号服务器下载与崩溃报告对应的 Electron 版本的符号文件，并保存在缓存目录中以备下次使用</strong>）。</p><p>接着再在命令窗口的底部输入<code>!analyze -v </code>指令开始分析崩溃报告（注意此时需要全程具备良好的网络环境）。</p><p>加载完成后 WinDbg 会在窗口中显示崩溃报告内部的信息，这里我们截取一段供小伙伴们分析：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>EXCEPTION_RECORD:  (.exr -1)</span></span>
<span class="line"><span>ExceptionAddress: 00007ff725996fac (electron!node::AsyncResource::CallbackScope::~CallbackScope+0x000000000013227c)</span></span>
<span class="line"><span>   ExceptionCode: c0000005 (Access violation)</span></span>
<span class="line"><span>  ExceptionFlags: 00000000</span></span>
<span class="line"><span>NumberParameters: 2</span></span>
<span class="line"><span>   Parameter[0]: 0000000000000001</span></span>
<span class="line"><span>   Parameter[1]: 0000000000000000</span></span>
<span class="line"><span>Attempt to write to address 0000000000000000</span></span>
<span class="line"><span>PROCESS_NAME:  electron.exe</span></span>
<span class="line"><span>WRITE_ADDRESS:  0000000000000000</span></span>
<span class="line"><span>ERROR_CODE: (NTSTATUS) 0xc0000005 - 0x%p            0x%p                    %s</span></span>
<span class="line"><span>EXCEPTION_CODE_STR:  c0000005</span></span>
<span class="line"><span>EXCEPTION_PARAMETER1:  0000000000000001</span></span>
<span class="line"><span>EXCEPTION_PARAMETER2:  0000000000000000</span></span>
<span class="line"><span></span></span>
<span class="line"><span>STACK_TEXT:</span></span>
<span class="line"><span>00000053`0abf82f0 00007ff7`275a0513 : 00001c69`00000000 00000053`0abf84d8 00008d04`5e11c7b4 00001c69`00000000 : electron!node::AsyncResource::CallbackScope::~CallbackScope+0x13227c</span></span>
<span class="line"><span>00000053`0abf84a0 00007ff7`275a0121 : 00008d04`5e11c7a4 00000053`0abf8690 00007ff7`2b7e55c0 0000452c`0087b1bb : electron!v8::Object::SlowGetInternalField+0x7f3</span></span>
<span class="line"><span>00000053`0abf84d0 00007ff7`26cacd53 : 00000000`00000000 00007ff7`26c1f112 00000000`00000000 00000000`06b96722 : electron!v8::Object::SlowGetInternalField+0x401</span></span>
<span class="line"><span>00000053`0abfcfe0 00007ff7`26652c61 : 00000000`00000000 00001c69`08042229 00001c69`c0cdb000 00001c69`08282125 : electron!v8::V8::ToLocalEmpty+0x2193</span></span>
<span class="line"><span>00000053`0abfd010 00007ff7`27720c24 : 00000000`00000000 00000000`00000000 00000053`0abfd068 00000000`00000000 : electron!v8::Value::ToString+0x2eef1</span></span>
<span class="line"><span>00000053`0abfd050 00007ff7`251fa720 : 00000000`00000000 00000000`00000000 00000000`00000000 00001c69`a5e82115 : electron!v8::internal::TickSample::Init+0x11a24</span></span>
<span class="line"><span>00000053`0abfd0d0 00007ff7`25ae571c : 00000000`00000000 00000053`0abfd218 00001c69`a5e80000 00000000`00000002 : electron!v8::Isolate::CreateParams::~CreateParams+0xce60</span></span>
<span class="line"><span>00000053`0abfd130 00001c69`000c6308 : 00000000`0d72ce44 00001c69`08942dd9 00000000`06b96722 00001c69`08582e0d : electron!v8_inspector::protocol::Binary::operator=+0x6f12c</span></span>
<span class="line"><span>00000053`0abfd188 00000000`0d72ce44 : 00001c69`08942dd9 00000000`06b96722 00001c69`08582e0d 00000000`0d72ce44 : 0x00001c69`000c6308</span></span>
<span class="line"><span>00000053`0abfd190 00001c69`08942dd9 : 00000000`06b96722 00001c69`08582e0d 00000000`0d72ce44 00001c69`0946344d : 0xd72ce44</span></span>
<span class="line"><span>00000053`0abfd198 00000000`06b96722 : 00001c69`08582e0d 00000000`0d72ce44 00001c69`0946344d 00001c69`088c2349 : 0x00001c69`08942dd9</span></span>
<span class="line"><span>00000053`0abfd1a0 00001c69`08582e0d : 00000000`0d72ce44 00001c69`0946344d 00001c69`088c2349 00001c69`08582e0d : 0x6b96722</span></span>
<span class="line"><span>00000053`0abfd1a8 00000000`0d72ce44 : 00001c69`0946344d 00001c69`088c2349 00001c69`08582e0d 00001c69`083d6e61 : 0x00001c69`08582e0d</span></span>
<span class="line"><span>00000053`0abfd1b0 00001c69`0946344d : 00001c69`088c2349 00001c69`08582e0d 00001c69`083d6e61 00001c69`08584a49 : 0xd72ce44</span></span>
<span class="line"><span>00000053`0abfd1b8 00001c69`088c2349 : 00001c69`08582e0d 00001c69`083d6e61 00001c69`08584a49 00000000`0000069c : 0x00001c69`0946344d</span></span>
<span class="line"><span>00000053`0abfd1c0 00001c69`08582e0d : 00001c69`083d6e61 00001c69`08584a49 00000000`0000069c 00000000`0000645c : 0x00001c69`088c2349</span></span>
<span class="line"><span>00000053`0abfd1c8 00001c69`083d6e61 : 00001c69`08584a49 00000000`0000069c 00000000`0000645c 00001c69`08942dd9 : 0x00001c69`08582e0d</span></span>
<span class="line"><span>00000053`0abfd1d0 00001c69`08584a49 : 00000000`0000069c 00000000`0000645c 00001c69`08942dd9 00000000`000000e8 : 0x00001c69`083d6e61</span></span>
<span class="line"><span>00000053`0abfd1d8 00000000`0000069c : 00000000`0000645c 00001c69`08942dd9 00000000`000000e8 00001c69`08605fed : 0x00001c69`08584a49</span></span>
<span class="line"><span>00000053`0abfd1e0 00000000`0000645c : 00001c69`08942dd9 00000000`000000e8 00001c69`08605fed 00000000`00000000 : 0x69c</span></span>
<span class="line"><span>00000053`0abfd1e8 00001c69`08942dd9 : 00000000`000000e8 00001c69`08605fed 00000000`00000000 00001c69`08942de9 : 0x645c</span></span>
<span class="line"><span>00000053`0abfd1f0 00000000`000000e8 : 00001c69`08605fed 00000000`00000000 00001c69`08942de9 00001c69`088c2349 : 0x00001c69`08942dd9</span></span>
<span class="line"><span>00000053`0abfd1f8 00001c69`08605fed : 00000000`00000000 00001c69`08942de9 00001c69`088c2349 00000053`0abfd2c8 : 0xe8</span></span>
<span class="line"><span>00000053`0abfd200 00000000`00000000 : 00001c69`08942de9 00001c69`088c2349 00000053`0abfd2c8 00007ff7`25a7ed0f : 0x00001c69`08605fed</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>SYMBOL_NAME:  electron!node::AsyncResource::CallbackScope::~CallbackScope+13227c</span></span>
<span class="line"><span>MODULE_NAME: electron</span></span>
<span class="line"><span>IMAGE_NAME:  electron.exe</span></span>
<span class="line"><span>STACK_COMMAND:  ~0s ; .ecxr ; kb</span></span>
<span class="line"><span>FAILURE_BUCKET_ID:  NULL_POINTER_WRITE_c0000005_electron.exe!node::AsyncResource::CallbackScope::_CallbackScope</span></span>
<span class="line"><span>OSPLATFORM_TYPE:  x64</span></span>
<span class="line"><span>OSNAME:  Windows 10</span></span>
<span class="line"><span>FAILURE_ID_HASH:  {3f18c3a4-c6fc-f39e-d02b-f38f7b21394d}</span></span>
<span class="line"><span>Followup:     MachineOwner</span></span></code></pre></div><p>上面这段错误信息分为两部分，一部分是 <code>EXCEPTION_RECORD</code> 节，其中 <code>ExceptionAddress</code> 是崩溃产生时的代码执行地址，这里面的信息为：错误发生在一个异步回调方法内（electron!node::AsyncResource::CallbackScope），<code>ExceptionCode</code> 是 Windows API 中 <code>GetLastError</code> 获取到的错误码（c0000005 Access violation，访问被禁止），Windows 定义了很多错误码，如果你在调试崩溃报告时，遇到了不一样的错误码，可以在这个页面查询错误码的具体含义：<a href="https://docs.microsoft.com/en-us/windows/win32/debug/system-error-codes" target="_blank" rel="noreferrer">https://docs.microsoft.com/en-us/windows/win32/debug/system-error-codes</a> 。</p><p>接下来还有一行错误：<code>Attempt to write to address 0000000000000000</code>，说明程序试图在某个内存地址写入信息时出错。</p><p>另一部分是 <code>STACK_TEXT</code> 节，这个节显示的是堆栈信息，也就是崩溃前 C++ 代码的执行情况，在这里我们可以看到更明确的错误现场，其中有 7 行是与 V8 引擎执行有关的信息，说明代码发生在 JavaScript 脚本执行期间。</p><p>这些就是这个崩溃报告中最有用的信息，如你所见，并没有定位到具体的代码，因为<strong>我们的代码是由 V8 引擎解释执行的，而且在 V8 执行我们的代码前，还对我们的代码做了很多优化工作</strong>，我们只能知道 V8 在执行我们代码时何时出了错，并不能准确地知道我们的代码哪一行出了错。</p><p>使用 WinDbg 分析崩溃报告设置比较烦琐，为此社区内有人（Electron 贡献者之一）专门开发了一个崩溃报告分析工具：<a href="https://github.com/nornagon/electron-minidump" target="_blank" rel="noreferrer">electron-minidump</a> 。</p><p>这个工具会自动帮开发者下载符号文件，执行分析指令。你如果感兴趣的话，可以安装尝试，这里就不再赘述了（注意安装此工具时亦应保持良好的网络状态，因为它会从谷歌源码服务器克隆一个项目）。</p><h2 id="总结" tabindex="-1">总结 <a class="header-anchor" href="#总结" aria-label="Permalink to &quot;总结&quot;">​</a></h2><p>本节我们介绍了如何分析调试线上 Electron 应用的一些知识，</p><p>首先我带领大家把 Electron 应用中的 app.asar 解析成业务代码文件。</p><p>接着我们讲解了如何通过命令行参数获取调试地址（包括渲染进程的调试地址和主进程的调试地址），以用于调试业务代码。</p><p>最后我们介绍了如何收集崩溃报告和使用 WinDbg 分析崩溃报告的知识。</p><p>这些知识非常重要，是让我们的产品变得强大、健壮、赢得用户口碑的必备知识。</p></div></div></main><footer class="VPDocFooter" data-v-39a288b8 data-v-09de1c0f><!--[--><!--]--><!----><nav class="prev-next" data-v-09de1c0f><div class="pager" data-v-09de1c0f><a class="VPLink link pager-link prev" href="/wu-docs/doc/Electron/13.html" data-v-09de1c0f><!--[--><span class="desc" data-v-09de1c0f>上一页</span><span class="title" data-v-09de1c0f>14.Electron 应用具备哪些特征？</span><!--]--></a></div><div class="pager" data-v-09de1c0f><a class="VPLink link pager-link next" href="/wu-docs/doc/Electron/15.html" data-v-09de1c0f><!--[--><span class="desc" data-v-09de1c0f>下一页</span><span class="title" data-v-09de1c0f>16.Electron 疑难杂症解决方案</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-5d98c3a5 data-v-e315a0ad><div class="container" data-v-e315a0ad><p class="message" data-v-e315a0ad>Released under the MIT License.</p><p class="copyright" data-v-e315a0ad>Copyright © 2024-present Bin</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"doc_netty_10.md\":\"DbojTVlJ\",\"doc_netty_22.md\":\"D1YR0Pih\",\"interview_css.md\":\"Cjw2eBqv\",\"doc_netty_13.md\":\"CHZ3LUWU\",\"doc_netty_23.md\":\"DKdxwcO6\",\"doc_netty_5.md\":\"C12VoQit\",\"doc_netty_14.md\":\"nusHTFCn\",\"doc_netty_16.md\":\"TbkxHRtZ\",\"blog_2022-05-28.md\":\"BF6JWufZ\",\"interview_html.md\":\"CQVPK78H\",\"doc_netty_20.md\":\"_BEMsYy7\",\"doc_netty_21.md\":\"BbmsxSxq\",\"doc_netty_1.md\":\"DS7fHZ7f\",\"doc_netty_8.md\":\"C_3AHnnm\",\"doc_netty_17.md\":\"eZJ0nRP_\",\"note_axios.md\":\"6VrOwDXU\",\"doc_netty_3.md\":\"BEWKSCpS\",\"doc_netty_2.md\":\"BZF4Y3X2\",\"go_server.md\":\"D8EPT80U\",\"blog_2023-04-16.md\":\"DzihhSte\",\"doc_netty_7.md\":\"Gja4ovul\",\"doc_netty_4.md\":\"36Smzjx5\",\"note_git.md\":\"tdR-mMtQ\",\"doc_electron_10.md\":\"CluMhxrG\",\"doc_netty_11.md\":\"B4Ey3r4T\",\"blog_2023-07-25.md\":\"DS7X9l8U\",\"doc_electron_2.md\":\"Dux1rmA0\",\"doc_electron_12.md\":\"B8dFmOHv\",\"note_regexp.md\":\"UhD_Xq7H\",\"note_electron.md\":\"BjvAQp8p\",\"doc_electron_15.md\":\"Ff1tjBwX\",\"doc_electron_4.md\":\"B3Dax6YD\",\"doc_electron_9.md\":\"bWCrlzPd\",\"doc_netty_9.md\":\"sT1_sOC1\",\"doc_electron_6.md\":\"TH-wpfwj\",\"doc_netty_19.md\":\"BTenf4Qv\",\"doc_netty_6.md\":\"CTSLum8Z\",\"doc_electron_1.md\":\"B7BIhq5-\",\"doc_electron_11.md\":\"BPskJxIZ\",\"note_mysql.md\":\"DI2P0uqR\",\"blog_2023-09-06.md\":\"DIWbN2O4\",\"note_less.md\":\"BjXX66L8\",\"doc_netty_15.md\":\"Bf00vJMa\",\"doc_electron_14.md\":\"D01_CcU1\",\"doc_electron_3.md\":\"BtRxPn8T\",\"doc_electron_13.md\":\"DsZUuE1z\",\"doc_netty_18.md\":\"175paBCQ\",\"note_ajax.md\":\"Ds60uC8G\",\"interview_vue.md\":\"BDKvDNHv\",\"index.md\":\"BIS8KTOJ\",\"doc_netty_12.md\":\"DSyTZgiE\",\"doc_electron_8.md\":\"AbADWGpt\",\"doc_electron_7.md\":\"YosUrDCT\",\"doc_electron_5.md\":\"lKZAfV8I\",\"note_fetch.md\":\"B75ROSkC\",\"note_sass.md\":\"CUO95mUw\",\"note_webpack.md\":\"BJ_yrNcZ\",\"interview_javascript.md\":\"CV5uMEa8\",\"note_nest.md\":\"BFSqbe7x\",\"note_uniapp.md\":\"KGJ670W6\",\"note_vue2.md\":\"D0y350Jw\",\"note_vue3.md\":\"CC3S1xZn\",\"blog_2023-05-17.md\":\"PwhgLIHe\",\"note_rust.md\":\"1pRMYFKc\",\"note_ts.md\":\"Z5T1Q0cZ\",\"note_react.md\":\"fqAz85m-\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"小菜的笔记\",\"description\":\"专门收集本人的学习笔记\",\"base\":\"/wu-docs/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"logo\":\"./static/img/favicon.ico\",\"search\":{\"provider\":\"local\",\"options\":{\"translations\":{\"button\":{\"buttonText\":\"搜索文档\",\"buttonAriaLabel\":\"搜索文档\"},\"modal\":{\"noResultsText\":\"无法找到相关结果\",\"resetButtonTitle\":\"清除查询条件\",\"footer\":{\"selectText\":\"选择\",\"navigateText\":\"切换\",\"closeText\":\"关闭\"}}}}},\"docFooter\":{\"prev\":\"上一页\",\"next\":\"下一页\"},\"outline\":{\"label\":\"当前目录\"},\"nav\":[{\"text\":\"首页\",\"link\":\"/\"},{\"text\":\"个人博客\",\"link\":\"/blog/2022-05-28\"}],\"sidebar\":{\"/interview/\":[{\"text\":\"基础面试题\",\"items\":[{\"text\":\"HTML\",\"link\":\"../interview/html\"},{\"text\":\"CSS\",\"link\":\"../interview/css\"},{\"text\":\"JS\",\"link\":\"../interview/javascript\"},{\"text\":\"Vue\",\"link\":\"../interview/vue\"}]}],\"/note/\":[{\"text\":\"读书笔记\",\"items\":[{\"text\":\"Ajax\",\"link\":\"../note/ajax\"},{\"text\":\"Axios\",\"link\":\"../note/axios\"},{\"text\":\"Fetch\",\"link\":\"../note/fetch\"},{\"text\":\"Git\",\"link\":\"../note/git\"},{\"text\":\"Less\",\"link\":\"../note/less\"},{\"text\":\"Sass\",\"link\":\"../note/sass\"},{\"text\":\"Regexp\",\"link\":\"../note/regexp\"},{\"text\":\"Webpack\",\"link\":\"../note/webpack\"},{\"text\":\"Uni-app\",\"link\":\"../note/uniapp\"},{\"text\":\"Ts\",\"link\":\"../note/ts\"},{\"text\":\"Vue2\",\"link\":\"../note/vue2\"},{\"text\":\"Vue3\",\"link\":\"../note/vue3\"},{\"text\":\"React\",\"link\":\"../note/react\"},{\"text\":\"Nest\",\"link\":\"../note/nest\"},{\"text\":\"Mysql\",\"link\":\"../note/mysql\"},{\"text\":\"Rust\",\"link\":\"../note/rust\"},{\"text\":\"Electron\",\"link\":\"../note/Electron\"}]}],\"/blog\":[{\"text\":\"个人博客\",\"items\":[{\"text\":\"节流和防抖\",\"link\":\"../blog/2022-05-28\"},{\"text\":\"Object.defineProperty&Proxy\",\"link\":\"../blog/2023-04-16\"},{\"text\":\"vue.js 设计与实现\",\"link\":\"../blog/2023-05-17\"},{\"text\":\"vue2 封装 Echarts\",\"link\":\"../blog/2023-07-25\"},{\"text\":\"ts 内置函数\",\"link\":\"../blog/2023-09-06\"}]}],\"/doc\":[{\"text\":\"小册子\",\"collapsed\":true,\"items\":[{\"text\":\"Electron + Vue 3 桌面应用开发\",\"items\":[{\"text\":\"Electron 是什么？可以做什么\",\"link\":\"/doc/Electron/1.md\"},{\"text\":\"3.如何开发 Vite 3 插件构建 Electron 开发环境？\",\"link\":\"/doc/Electron/2.md\"},{\"text\":\"4.如何开发 Vite 3 插件打包 Electron 应用？\",\"link\":\"/doc/Electron/3.md\"},{\"text\":\"5.如何引入 vue-router 及控制工程架构？\",\"link\":\"/doc/Electron/4.md\"},{\"text\":\"6.如何管控应用的窗口（上）？\",\"link\":\"/doc/Electron/5.md\"},{\"text\":\"7.如何管控应用的窗口（下）？\",\"link\":\"/doc/Electron/6.md\"},{\"text\":\"8.如何引入 Pinia 并管控应用的数据状态？\",\"link\":\"/doc/Electron/7.md\"},{\"text\":\"9.如何引入客户端数据库及相关工具？\",\"link\":\"/doc/Electron/8.md\"},{\"text\":\"10.桌面应用开发需要掌握哪些数据库知识（上）？\",\"link\":\"/doc/Electron/9.md\"},{\"text\":\"11.桌面应用开发需要掌握哪些数据库知识（下）？\",\"link\":\"/doc/Electron/10.md\"},{\"text\":\"12.如何为 Electron 应用开发原生模块？\",\"link\":\"/doc/Electron/11.md\"},{\"text\":\"13.如何升级 Electron 应用？\",\"link\":\"/doc/Electron/12.md\"},{\"text\":\"14.Electron 应用具备哪些特征？\",\"link\":\"/doc/Electron/13.md\"},{\"text\":\"15.如何调试 Electron 应用？\",\"link\":\"/doc/Electron/14.md\"},{\"text\":\"16.Electron 疑难杂症解决方案\",\"link\":\"/doc/Electron/15.md\"}]},{\"text\":\"Netty 入门与实战：仿写微信 IM 即时通讯系统\",\"items\":[{\"text\":\"仿微信 IM 系统简介\",\"link\":\"/doc/Netty/1.md\"},{\"text\":\"Netty 是什么？\",\"link\":\"/doc/Netty/2.md\"},{\"text\":\"Netty 环境配置\",\"link\":\"/doc/Netty/3.md\"},{\"text\":\"服务端启动流程\",\"link\":\"/doc/Netty/4.md\"},{\"text\":\"客户端启动流程\",\"link\":\"/doc/Netty/5.md\"},{\"text\":\"实战:客户端与服务端双向通信\",\"link\":\"/doc/Netty/6.md\"},{\"text\":\"数据传输载体 ByteBuf\",\"link\":\"/doc/Netty/7.md\"},{\"text\":\"客户端与服务端通信协议\",\"link\":\"/doc/Netty/8.md\"},{\"text\":\"实战:实现客户端登录\",\"link\":\"/doc/Netty/9.md\"},{\"text\":\"实战:实现客户端与服务端收发\",\"link\":\"/doc/Netty/10.md\"},{\"text\":\"pipeline 与 channelHandler\",\"link\":\"/doc/Netty/11.md\"},{\"text\":\"实战:构建客户端与服务端 pipeline\",\"link\":\"/doc/Netty/12.md\"},{\"text\":\"实战战拆包粘包理论与解决方案\",\"link\":\"/doc/Netty/13.md\"},{\"text\":\"channelHandler 的生命周期\",\"link\":\"/doc/Netty/14.md\"},{\"text\":\"实战:使用 channelHandler的热插拔实现客户端身份校验\",\"link\":\"/doc/Netty/15.md\"},{\"text\":\"实战:客户端互聊原理与实现\",\"link\":\"/doc/Netty/16.md\"},{\"text\":\"实实战:群聊的发起与通知\",\"link\":\"/doc/Netty/17.md\"},{\"text\":\"实战:群聊的成员管理(加入与退出，获取成员列表)\",\"link\":\"/doc/Netty/18.md\"},{\"text\":\"实战:群聊消息的收发及 Netty 性能优化\",\"link\":\"/doc/Netty/19.md\"},{\"text\":\"心跳与空闲检测\",\"link\":\"/doc/Netty/20.md\"},{\"text\":\"小册总结\",\"link\":\"/doc/Netty/21.md\"},{\"text\":\"小册读者总结\",\"link\":\"/doc/Netty/22.md\"},{\"text\":\"扩展:进阶学习 Netty 的方向与资料\",\"link\":\"/doc/Netty/23.md\"}]}]}],\"/Go/\":[{\"text\":\"Go\",\"items\":[{\"text\":\"微服务\",\"link\":\"../Go/server\"}]}]},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/Selbstlader\"}],\"footer\":{\"message\":\"Released under the MIT License.\",\"copyright\":\"Copyright © 2024-present Bin\"}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>